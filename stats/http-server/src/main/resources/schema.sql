DROP TABLE IF EXISTS endpoint_hits, view_stats;

CREATE TABLE IF NOT EXISTS endpoint_hits (
 id id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
 app VARCHAR(60) NOT NULL,
 uri VARCHAR(200) NOT NULL,
 ip VARCHAR(15) NOT NULL,
 time_stamp TIMESTAMP WITHOUT TIME ZONE NOT NULL,
 CONSTRAINT hit_id PRIMARY KEY(id)
 );

 CREATE TABLE IF NOT EXISTS view_stats (
  app VARCHAR(60) NOT NULL,
  uri VARCHAR(200) NOT NULL,
  hits BIGINT,
  CONSTRAINT app_name PRIMARY KEY(app)
 );